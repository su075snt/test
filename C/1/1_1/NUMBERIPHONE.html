<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Counting 1 - 1,000,000 (Male Voice)</title>
    <link href="https://fonts.googleapis.com" rel="stylesheet">
    <style>
        :root {
            --primary: #4a90e2; /* M√†u xanh nam t√≠nh h∆°n */
            --secondary: #d1e8ff;
            --accent: #ffb7b2;
            --bg: #f0f7ff;
        }

        body {
            font-family: 'Quicksand', sans-serif;
            background-color: var(--bg);
            margin: 0; padding: 20px;
            display: flex; flex-direction: column; align-items: center;
            touch-action: manipulation;
        }

        h1 {
            font-family: 'Fredoka One', cursive;
            color: var(--primary);
            font-size: 2.2rem;
            margin: 10px 0;
            text-shadow: 2px 2px 0px #fff;
        }

        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(110px, 1fr));
            gap: 15px; width: 100%; max-width: 950px;
        }

        .card {
            background: white;
            border: 4px solid var(--secondary);
            border-radius: 20px;
            padding: 18px 5px;
            text-align: center;
            cursor: pointer;
            transition: 0.2s;
            box-shadow: 0 6px 0 var(--secondary);
        }

        .card:active {
            transform: translateY(4px);
            box-shadow: 0 2px 0 var(--secondary);
        }

        .playing {
            background-color: #eef7ff !important;
            border-color: var(--primary) !important;
            box-shadow: 0 6px 0 var(--primary) !important;
            transform: scale(1.05);
        }

        .big-num {
            border-color: var(--accent);
            box-shadow: 0 6px 0 var(--accent);
        }

        .n { font-size: 26px; color: #333; display: block; font-weight: 700; }
        .e { font-size: 11px; color: #666; font-weight: 700; text-transform: uppercase; margin-top: 5px; }

        @media (max-width: 480px) {
            .grid { grid-template-columns: repeat(3, 1fr); }
            .n { font-size: 20px; }
        }
    </style>
</head>
<body>

    <h1>üë¶ Master Counting üë¶</h1>
    <p style="color: #666; margin-bottom: 20px; font-weight: 500;">Ch·∫°m ƒë·ªÉ nghe gi·ªçng th·∫ßy gi√°o b·∫£n x·ª©!</p>

    <div class="grid" id="mainGrid"></div>

    <script>
        const grid = document.getElementById('mainGrid');
        const synth = window.speechSynthesis;

        const units = ["", "One", "Two", "Three", "Four", "Five", "Six", "Seven", "Eight", "Nine"];
        const teens = ["Ten", "Eleven", "Twelve", "Thirteen", "Fourteen", "Fifteen", "Sixteen", "Seventeen", "Eighteen", "Nineteen"];
        const tens = ["", "", "Twenty", "Thirty", "Forty", "Fifty", "Sixty", "Seventy", "Eighty", "Ninety"];

        // T·∫°o d·ªØ li·ªáu
        let numbers = [];
        for (let i = 1; i <= 100; i++) {
            let word = "";
            if (i < 10) word = units[i];
            else if (i < 20) word = teens[i - 10];
            else if (i < 100) word = tens[Math.floor(i / 10)] + (i % 10 !== 0 ? " " + units[i % 10] : "");
            else word = "One Hundred";
            numbers.push({n: i.toLocaleString(), w: word, type: 'small'});
        }

        numbers.push({n: "1,000", w: "One Thousand", type: 'big'});
        numbers.push({n: "10,000", w: "Ten Thousand", type: 'big'});
        numbers.push({n: "100,000", w: "One Hundred Thousand", type: 'big'});
        numbers.push({n: "1,000,000", w: "One Million", type: 'big'});

        // Render
        numbers.forEach(item => {
            const card = document.createElement('div');
            card.className = `card ${item.type === 'big' ? 'big-num' : ''}`;
            card.innerHTML = `<span class="n">${item.n}</span><span class="e">${item.w}</span>`;
            card.onclick = () => playMaleVoice(item.w, card);
            grid.appendChild(card);
        });

        function playMaleVoice(text, element) {
            synth.cancel(); 

            const msg = new SpeechSynthesisUtterance(text);
            const voices = synth.getVoices();

            // T√åM GI·ªåNG NAM (MALE)
            // ∆Øu ti√™n c√°c t·ª´ kh√≥a gi·ªçng nam ph·ªï bi·∫øn tr√™n c√°c h·ªá ƒëi·ªÅu h√†nh
            const maleVoice = voices.find(v => 
                (v.lang.includes('en') && v.name.toLowerCase().includes('male')) ||
                v.name.includes('David') || 
                v.name.includes('Arthur') || 
                v.name.includes('Daniel') ||
                v.name.includes('Google UK English Male')
            ) || voices.find(v => v.lang.startsWith('en'));

            if (maleVoice) msg.voice = maleVoice;

            // C·∫•u h√¨nh gi·ªçng nam chu·∫©n
            msg.rate = 0.85;  // T·ªëc ƒë·ªô ƒëi·ªÅm ƒë·∫°m
            msg.pitch = 0.9;   // H·∫° t√¥ng xu·ªëng ƒë·ªÉ ra gi·ªçng nam tr·∫ßm ·∫•m
            msg.lang = 'en-US';

            document.querySelectorAll('.card').forEach(c => c.classList.remove('playing'));
            element.classList.add('playing');

            msg.onend = () => element.classList.remove('playing');
            synth.speak(msg);
        }

        // Load voices cho tr√¨nh duy·ªát
        window.speechSynthesis.onvoiceschanged = () => synth.getVoices();
    </script>
</body>
</html>