<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Êó•Êú¨Ë™ûÊï∞„ÅàÊñπ</title>
    <link href="https://fonts.googleapis.com" rel="stylesheet">
    <style>
        :root {
            --bg-color: #e0f7fa;
            --text-color: #263238;
            --accent-color: #00796b;
            --card-bg: #ffffff;
        }

        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            font-family: 'M PLUS Rounded 1c', sans-serif;
            margin: 0;
            padding: 10px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        /* Side Menu */
        #menu {
            position: fixed;
            top: 0;
            right: -320px;
            width: 280px;
            height: 100%;
            background: white;
            box-shadow: -5px 0 20px rgba(0,0,0,0.15);
            transition: 0.4s;
            z-index: 2000;
            padding: 30px;
            overflow-y: auto;
        }
        #menu.active { right: 0; }

        .btn-toggle {
            position: fixed;
            top: 15px;
            right: 15px;
            z-index: 2001;
            background: var(--accent-color);
            color: white;
            border: none;
            padding: 10px 18px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: bold;
        }

        /* 16 Tab Selection Area */
        .tabs-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 8px;
            margin-top: 60px;
            max-width: 1200px;
        }

        .tab-btn {
            background: #fff;
            border: 2px solid var(--accent-color);
            padding: 8px 15px;
            border-radius: 15px;
            cursor: pointer;
            font-weight: bold;
            font-size: 1.5rem;
            transition: 0.3s;
        }

        .tab-btn.active {
            background: var(--accent-color);
            color: white;
        }

        /* Grid 5x2 */
        .grid-container {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 15px;
            width: 80%;
            max-width: 1100px;
            margin-top: 15px;
        }

        .card {
            background: var(--card-bg);
            padding: 20px 5px;
            border-radius: 20px;
            text-align: center;
            cursor: pointer;
            box-shadow: 0 4px 10px rgba(0,0,0,0.05);
            border: 3px solid transparent;
            transition: 0.3s;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .card.active { border-color: #ff5252; transform: scale(1.02); }

        .main-text { font-size: 2rem; font-weight: 800; color: #37474f; }
        .reading { color: #d32f2f; font-size: 1.1rem; visibility: hidden; height: 1.2rem; }
        .icon-box { margin: 8px 0; display: flex; flex-wrap: wrap; justify-content: center; gap: 2px; min-height: 40px; }
        .icon-item { font-size: 1.1rem; }
        .viet { color: #546e7a; font-size: 0.9rem; visibility: hidden; border-top: 1px dashed #ddd; margin-top: 5px; padding-top: 5px; width: 80%; }

        .card.active .reading, .card.active .viet.show { visibility: visible; }

        .q-area { margin-top: 30px; text-align: center; }

        /* Settings CSS */
        .setting-group { margin-bottom: 20px; }
        .mode-box { background: #f1f8e9; padding: 15px; border-radius: 12px; margin-bottom: 15px; }
        select, input[type="range"] { width: 100%; margin-top: 5px; }

        @media (max-width: 800px) {
            .grid-container { grid-template-columns: repeat(2, 1fr); }
            .main-text { font-size: 1.5rem; }
        }
    </style>
</head>
<body>

    <button class="btn-toggle" onclick="document.getElementById('menu').classList.toggle('active')">Ë®≠ÂÆö ‚ò∞</button>

    <div id="menu">
        <h3>Â≠¶ÁøíË®≠ÂÆö</h3>
        <div class="mode-box">
            <label><b>„É¢„Éº„Éâ</b></label><br><br>
            <input type="radio" name="mode" id="jpOnly" checked> Êó•Êú¨Ë™û„ÅÆ„Åø<br>
            <input type="radio" name="mode" id="jpVi"> Êó•Êú¨Ë™û„Éª„Éô„Éà„Éä„É†Ë™û
        </div>
        <div class="setting-group">
            <label>ËÉåÊôØËâ≤</label>
            <input type="color" id="bgCol" value="#e0f7fa" oninput="updateUI()">
        </div>
        <div class="setting-group">
            <label>ÊñáÂ≠óËâ≤</label>
            <input type="color" id="textCol" value="#263238" oninput="updateUI()">
        </div>
        <div class="setting-group">
            <label>ÈÄüÂ∫¶</label>
            <input type="range" id="speed" min="0.5" max="1.5" step="0.1" value="1">
        </div>
        <div class="setting-group"><label>Êó•Êú¨Ë™ûÈü≥Â£∞</label><select id="vJp"></select></div>
        <div class="setting-group"><label>„Éô„Éà„Éä„É†Ë™ûÈü≥Â£∞</label><select id="vVi"></select></div>
    </div>

    <div class="tabs-container" id="tabs"></div>

    <h2 id="categoryTitle" style="margin-top: 20px; color: var(--accent-color);"></h2>

    <div class="grid-container" id="cardGrid"></div>

    <div class="q-area" id="questionArea"></div>

    <script>
        const counters = {
            "tsu": { title: "Áâ© (C√°i - chung chung)", icon: "üì¶", query: "„ÅÑ„Åè„Å§„Åß„Åô„ÅãÔºü", qRead: "„ÅÑ„Åè„Å§„ÄÄ„Åß„Åô„ÅãÔºü", qVi: "M·∫•y c√°i?", 
                items: [
                    {k:'‰∏Ä„Å§', r:'„Å≤„Å®„Å§', v:'1 c√°i'}, {k:'‰∫å„Å§', r:'„Åµ„Åü„Å§', v:'2 c√°i'}, {k:'‰∏â„Å§', r:'„Åø„Å£„Å§', v:'3 c√°i'},
                    {k:'Âõõ„Å§', r:'„Çà„Å£„Å§', v:'4 c√°i'}, {k:'‰∫î„Å§', r:'„ÅÑ„Å§„Å§', v:'5 c√°i'}, {k:'ÂÖ≠„Å§', r:'„ÇÄ„Å£„Å§', v:'6 c√°i'},
                    {k:'‰∏É„Å§', r:'„Å™„Å™„Å§', v:'7 c√°i'}, {k:'ÂÖ´„Å§', r:'„ÇÑ„Å£„Å§', v:'8 c√°i'}, {k:'‰πù„Å§', r:'„Åì„Åì„ÅÆ„Å§', v:'9 c√°i'}, {k:'ÂçÅ', r:'„Å®„Åä', v:'10 c√°i'}
                ]
            },
            "nin": { title: "‰∫∫ (Ng∆∞·ªùi)", icon: "üë§", query: "‰Ωï‰∫∫„Åß„Åô„ÅãÔºü", qRead: "„Å™„Çì„Å´„Çì„ÄÄ„Åß„Åô„ÅãÔºü", qVi: "M·∫•y ng∆∞·ªùi?", 
                items: [
                    {k:'‰∏Ä‰∫∫', r:'„Å≤„Å®„Çä', v:'1 ng∆∞·ªùi'}, {k:'‰∫å‰∫∫', r:'„Åµ„Åü„Çä', v:'2 ng∆∞·ªùi'}, {k:'‰∏â‰∫∫', r:'„Åï„Çì„Å´„Çì', v:'3 ng∆∞·ªùi'},
                    {k:'Âõõ‰∫∫', r:'„Çà„Å´„Çì', v:'4 ng∆∞·ªùi'}, {k:'‰∫î‰∫∫', r:'„Åî„Å´„Çì', v:'5 ng∆∞·ªùi'}, {k:'ÂÖ≠‰∫∫', r:'„Çç„Åè„Å´„Çì', v:'6 ng∆∞·ªùi'},
                    {k:'‰∏É‰∫∫', r:'„Å™„Å™„Å´„Çì', v:'7 ng∆∞·ªùi'}, {k:'ÂÖ´‰∫∫', r:'„ÅØ„Å°„Å´„Çì', v:'8 ng∆∞·ªùi'}, {k:'‰πù‰∫∫', r:'„Åç„ÇÖ„ÅÜ„Å´„Çì', v:'9 ng∆∞·ªùi'}, {k:'ÂçÅ‰∫∫', r:'„Åò„ÇÖ„ÅÜ„Å´„Çì', v:'10 ng∆∞·ªùi'}
                ]
            },
            "dai": { title: "Âè∞ (M√°y m√≥c, xe c·ªô)", icon: "üöó", query: "‰ΩïÂè∞„Åß„Åô„ÅãÔºü", qRead: "„Å™„Çì„Å†„ÅÑ„ÄÄ„Åß„Åô„ÅãÔºü", qVi: "M·∫•y chi·∫øc?", 
                items: [
                    {k:'‰∏ÄÂè∞', r:'„ÅÑ„Å°„Å†„ÅÑ', v:'1 chi·∫øc'}, {k:'‰∫åÂè∞', r:'„Å´„Å†„ÅÑ', v:'2 chi·∫øc'}, {k:'‰∏âÂè∞', r:'„Åï„Çì„Å†„ÅÑ', v:'3 chi·∫øc'},
                    {k:'ÂõõÂè∞', r:'„Çà„Çì„Å†„ÅÑ', v:'4 chi·∫øc'}, {k:'‰∫îÂè∞', r:'„Åî„Å†„ÅÑ', v:'5 chi·∫øc'}, {k:'ÂÖ≠Âè∞', r:'„Çç„Åè„Å†„ÅÑ', v:'6 chi·∫øc'},
                    {k:'‰∏ÉÂè∞', r:'„Å™„Å™„Å†„ÅÑ', v:'7 chi·∫øc'}, {k:'ÂÖ´Âè∞', r:'„ÅØ„Å°„Å†„ÅÑ', v:'8 chi·∫øc'}, {k:'‰πùÂè∞', r:'„Åç„ÇÖ„ÅÜ„Å†„ÅÑ', v:'9 chi·∫øc'}, {k:'ÂçÅÂè∞', r:'„Åò„ÇÖ„ÅÜ„Å†„ÅÑ', v:'10 chi·∫øc'}
                ]
            },
            "mai": { title: "Êûö (T·ªù, v·∫≠t m·ªèng)", icon: "üìÑ", query: "‰ΩïÊûö„Åß„Åô„ÅãÔºü", qRead: "„Å™„Çì„Åæ„ÅÑ„ÄÄ„Åß„Åô„Åã", qVi: "M·∫•y t·ªù?", 
                items: Array.from({length:10}, (_, i) => ({k:(i+1)+'Êûö', r:['„ÅÑ„Å°','„Å´','„Åï„Çì','„Çà„Çì','„Åî','„Çç„Åè','„Å™„Å™','„ÅØ„Å°','„Åç„ÇÖ„ÅÜ','„Åò„ÇÖ„ÅÜ'][i]+'„Åæ„ÅÑ', v:(i+1)+' t·ªù'}))
            },
            "hon": { title: "Êú¨ (V·∫≠t d√†i)", icon: "ü•¢", query: "‰ΩïÊú¨„Åß„Åô„ÅãÔºü", qRead: "„Å™„Çì„Åº„Çì„ÄÄ„Åß„Åô„ÅãÔºü", qVi: "M·∫•y c√¢y?", 
                items: [
                    {k:'‰∏ÄÊú¨', r:'„ÅÑ„Å£„ÅΩ„Çì', v:'1 c√¢y'}, {k:'‰∫åÊú¨', r:'„Å´„Åª„Çì', v:'2 c√¢y'}, {k:'‰∏âÊú¨', r:'„Åï„Çì„Åº„Çì', v:'3 c√¢y'},
                    {k:'ÂõõÊú¨', r:'„Çà„Çì„Åª„Çì', v:'4 c√¢y'}, {k:'‰∫îÊú¨', r:'„Åî„Åª„Çì', v:'5 c√¢y'}, {k:'ÂÖ≠Êú¨', r:'„Çç„Å£„ÅΩ„Çì', v:'6 c√¢y'},
                    {k:'‰∏ÉÊú¨', r:'„Å™„Å™„Åª„Çì', v:'7 c√¢y'}, {k:'ÂÖ´Êú¨', r:'„ÅØ„Å£„ÅΩ„Çì', v:'8 c√¢y'}, {k:'‰πùÊú¨', r:'„Åç„ÇÖ„ÅÜ„Åª„Çì', v:'9 c√¢y'}, {k:'ÂçÅÊú¨', r:'„Åò„ÇÖ„Å£„ÅΩ„Çì', v:'10 c√¢y'}
                ]
            },
            "ko": { title: "ÂÄã (V·∫≠t nh·ªè, tr√≤n)", icon: "‚öΩ", query: "‰ΩïÂÄã„Åß„Åô„ÅãÔºü", qRead: "„Å™„Çì„Åì„ÄÄ„Åß„Åô„ÅãÔºü", qVi: "M·∫•y qu·∫£/c√°i?", 
                items: [
                    {k:'‰∏ÄÂÄã', r:'„ÅÑ„Å£„Åì', v:'1 c√°i'}, {k:'‰∫åÂÄã', r:'„Å´„Åì', v:'2 c√°i'}, {k:'‰∏âÂÄã', r:'„Åï„Çì„Åì', v:'3 c√°i'},
                    {k:'ÂõõÂÄã', r:'„Çà„Çì„Åì', v:'4 c√°i'}, {k:'‰∫îÂÄã', r:'„Åî„Åì', v:'5 c√°i'}, {k:'ÂÖ≠ÂÄã', r:'„Çç„Å£„Åì', v:'6 c√°i'},
                    {k:'‰∏ÉÂÄã', r:'„Å™„Å™„Åì', v:'7 c√°i'}, {k:'ÂÖ´ÂÄã', r:'„ÅØ„Å£„Åì', v:'8 c√°i'}, {k:'‰πùÂÄã', r:'„Åç„ÇÖ„ÅÜ„Åì', v:'9 c√°i'}, {k:'ÂçÅÂÄã', r:'„Åò„ÇÖ„Å£„Åì', v:'10 c√°i'}
                ]
            },
            "satsu": { title: "ÂÜä (Cu·ªën s√°ch)", icon: "üìö", query: "‰ΩïÂÜä„Åß„Åô„ÅãÔºü", qRead: "„Å™„Çì„Åï„Å§„ÄÄ„Åß„Åô„ÅãÔºü", qVi: "M·∫•y cu·ªën s√°ch,„ÄÄm·∫•y quy·ªÉn s√°ch?", 
                items: [
                    {k:'‰∏ÄÂÜä', r:'„ÅÑ„Å£„Åï„Å§', v:'1 cu·ªën'}, {k:'‰∫åÂÜä', r:'„Å´„Åï„Å§', v:'2 cu·ªën'}, {k:'‰∏âÂÜä', r:'„Åï„Çì„Åï„Å§', v:'3 cu·ªën'},
                    {k:'ÂõõÂÜä', r:'„Çà„Çì„Åï„Å§', v:'4 cu·ªën'}, {k:'‰∫îÂÜä', r:'„Åî„Åï„Å§', v:'5 cu·ªën'}, {k:'ÂÖ≠ÂÜä', r:'„Çç„Åè„Åï„Å§', v:'6 cu·ªën'},
                    {k:'‰∏ÉÂÜä', r:'„Å™„Å™„Åï„Å§', v:'7 cu·ªën'}, {k:'ÂÖ´ÂÜä', r:'„ÅØ„Å£„Åï„Å§', v:'8 cu·ªën'}, {k:'‰πùÂÜä', r:'„Åç„ÇÖ„ÅÜ„Åï„Å§', v:'9 cu·ªën'}, {k:'ÂçÅÂÜä', r:'„Åò„ÇÖ„Å£„Åï„Å§', v:'10 cu·ªën'}
                ]
            },
            "hiki": { title: "Âåπ (Con v·∫≠t nh·ªè)", icon: "üê±", query: "‰ΩïÂåπ„Åß„Åô„ÅãÔºü", qRead: "„Å™„Çì„Å≥„Åç„ÄÄ„Åß„Åô„ÅãÔºü", qVi: "M·∫•y con?", 
                items: [
                    {k:'‰∏ÄÂåπ', r:'„ÅÑ„Å£„Å¥„Åç', v:'1 con'}, {k:'‰∫åÂåπ', r:'„Å´„Å≤„Åç', v:'2 con'}, {k:'‰∏âÂåπ', r:'„Åï„Çì„Å≥„Åç', v:'3 con'},
                    {k:'ÂõõÂåπ', r:'„Çà„Çì„Å≤„Åç', v:'4 con'}, {k:'‰∫îÂåπ', r:'„Åî„Å≤„Åç', v:'5 con'}, {k:'ÂÖ≠Âåπ', r:'„Çç„Å£„Å¥„Åç', v:'6 con'},
                    {k:'‰∏ÉÂåπ', r:'„Å™„Å™„Å≤„Åç', v:'7 con'}, {k:'ÂÖ´Âåπ', r:'„ÅØ„Å£„Å¥„Åç', v:'8 con'}, {k:'‰πùÂåπ', r:'„Åç„ÇÖ„ÅÜ„Å≤„Åç', v:'9 con'}, {k:'ÂçÅÂåπ', r:'„Åò„ÇÖ„Å£„Å¥„Åç', v:'10 con'}
                ]
            },
            "kai": { title: "Èöé (T·∫ßng l·∫ßu)", icon: "üè¢", query: "‰ΩïÈöé„Åß„Åô„ÅãÔºü", qRead: "„Å™„Çì„Åå„ÅÑ„ÄÄ„Åß„Åô„ÅãÔºü", qVi: "T·∫ßng m·∫•y?", 
                items: [
                    {k:'‰∏ÄÈöé', r:'„ÅÑ„Å£„Åã„ÅÑ', v:'T·∫ßng 1'}, {k:'‰∫åÈöé', r:'„Å´„Åã„ÅÑ', v:'T·∫ßng 2'}, {k:'‰∏âÈöé', r:'„Åï„Çì„Åå„ÅÑ', v:'T·∫ßng 3'},
                    {k:'ÂõõÈöé', r:'„Çà„Çì„Åã„ÅÑ', v:'T·∫ßng 4'}, {k:'‰∫îÈöé', r:'„Åî„Åã„ÅÑ', v:'T·∫ßng 5'}, {k:'ÂÖ≠Èöé', r:'„Çç„Å£„Åã„ÅÑ', v:'T·∫ßng 6'},
                    {k:'‰∏ÉÈöé', r:'„Å™„Å™„Åã„ÅÑ', v:'T·∫ßng 7'}, {k:'ÂÖ´Èöé', r:'„ÅØ„Å£„Åã„ÅÑ', v:'T·∫ßng 8'}, {k:'‰πùÈöé', r:'„Åç„ÇÖ„ÅÜ„Åã„ÅÑ', v:'T·∫ßng 9'}, {k:'ÂçÅÈöé', r:'„Åò„ÇÖ„Å£„Åã„ÅÑ', v:'T·∫ßng 10'}
                ]
            },
            "jikan": { title: "ÊôÇÈñì (Ti·∫øng ƒë·ªìng h·ªì)", icon: "‚è∞", query: "‰ΩïÊôÇÈñì„Åß„Åô„ÅãÔºü", qRead: "„Å™„Çì„Åò„Åã„Çì„ÄÄ„Åß„Åô„ÅãÔºü", qVi: "M·∫•y ti·∫øng?", 
                items: Array.from({length:10}, (_, i) => ({k:(i+1)+'ÊôÇÈñì', r:['„ÅÑ„Å°','„Å´','„Åï„Çì','„Çà','„Åî','„Çç„Åè','„Åó„Å°','„ÅØ„Å°','„Åè','„Åò„ÇÖ„ÅÜ'][i]+'„Åò„Åã„Çì', v:(i+1)+' ti·∫øng'}))
            },
            "fun": { title: "ÂàÜ (Ph√∫t)", icon: "‚è≤Ô∏è", query: "‰ΩïÂàÜ„Åß„Åô„ÅãÔºü", qRead: "„Å™„Çì„Å∑„Çì„ÄÄ„Åß„Åô„ÅãÔºü", qVi: "M·∫•y ph√∫t?", 
                items: [
                    {k:'‰∏ÄÂàÜ', r:'„ÅÑ„Å£„Å∑„Çì', v:'1 ph√∫t'}, {k:'‰∫åÂàÜ', r:'„Å´„Åµ„Çì', v:'2 ph√∫t'}, {k:'‰∏âÂàÜ', r:'„Åï„Çì„Å∑„Çì', v:'3 ph√∫t'},
                    {k:'ÂõõÂàÜ', r:'„Çà„Çì„Å∑„Çì', v:'4 ph√∫t'}, {k:'‰∫îÂàÜ', r:'„Åî„Åµ„Çì', v:'5 ph√∫t'}, {k:'ÂÖ≠ÂàÜ', r:'„Çç„Å£„Å∑„Çì', v:'6 ph√∫t'},
                    {k:'‰∏ÉÂàÜ', r:'„Å™„Å™„Åµ„Çì', v:'7 ph√∫t'}, {k:'ÂÖ´ÂàÜ', r:'„ÅØ„Å£„Å∑„Çì', v:'8 ph√∫t'}, {k:'‰πùÂàÜ', r:'„Åç„ÇÖ„ÅÜ„Åµ„Çì', v:'9 ph√∫t'}, {k:'ÂçÅÂàÜ', r:'„Åò„ÇÖ„Å£„Å∑„Çì', v:'10 ph√∫t'}
                ]
            },
            "sai": { title: "Ê≠≥ (Tu·ªïi)", icon: "üéÇ", query: "‰ΩïÊ≠≥„Åß„Åô„ÅãÔºü", qRead: "„Å™„Çì„Åï„ÅÑ„ÄÄ„Åß„Åô„ÅãÔºü", qVi: "M·∫•y tu·ªïi?", 
                items: [
                    {k:'‰∏ÄÊ≠≥', r:'„ÅÑ„Å£„Åï„ÅÑ', v:'1 tu·ªïi'}, {k:'‰∫åÊ≠≥', r:'„Å´„Åï„ÅÑ', v:'2 tu·ªïi'}, {k:'‰∏âÊ≠≥', r:'„Åï„Çì„Åï„ÅÑ', v:'3 tu·ªïi'},
                    {k:'ÂõõÊ≠≥', r:'„Çà„Çì„Åï„ÅÑ', v:'4 tu·ªïi'}, {k:'‰∫îÊ≠≥', r:'„Åî„Åï„ÅÑ', v:'5 tu·ªïi'}, {k:'ÂÖ≠Ê≠≥', r:'„Çç„Åè„Åï„ÅÑ', v:'6 tu·ªïi'},
                    {k:'‰∏ÉÊ≠≥', r:'„Å™„Å™„Åï„ÅÑ', v:'7 tu·ªïi'}, {k:'ÂÖ´Ê≠≥', r:'„ÅØ„Å£„Åï„ÅÑ', v:'8 tu·ªïi'}, {k:'‰πùÊ≠≥', r:'„Åç„ÇÖ„ÅÜ„Åï„ÅÑ', v:'9 tu·ªïi'}, {k:'ÂçÅÊ≠≥', r:'„Åò„ÇÖ„Å£„Åï„ÅÑ', v:'10 tu·ªïi'}
                ]
            },
            "hai": { title: "ÊùØ (Ly, ch√©n, b√°t)", icon: "ü•õ", query: "‰ΩïÊùØ„Åß„Åô„ÅãÔºü", qRead: "„Å™„Çì„Å∞„ÅÑ„ÄÄ„Åß„Åô„ÅãÔºü", qVi: "M·∫•y ly?", 
                items: [
                    {k:'‰∏ÄÊùØ', r:'„ÅÑ„Å£„Å±„ÅÑ', v:'1 ly'}, {k:'‰∫åÊùØ', r:'„Å´„ÅØ„ÅÑ', v:'2 ly'}, {k:'‰∏âÊùØ', r:'„Åï„Çì„Å∞„ÅÑ', v:'3 ly'},
                    {k:'ÂõõÊùØ', r:'„Çà„Çì„ÅØ„ÅÑ', v:'4 ly'}, {k:'‰∫îÊùØ', r:'„Åî„ÅØ„ÅÑ', v:'5 ly'}, {k:'ÂÖ≠ÊùØ', r:'„Çç„Å£„Å±„ÅÑ', v:'6 ly'},
                    {k:'‰∏ÉÊùØ', r:'„Å™„Å™„ÅØ„ÅÑ', v:'7 ly'}, {k:'ÂÖ´ÊùØ', r:'„ÅØ„Å£„Å±„ÅÑ', v:'8 ly'}, {k:'‰πùÊùØ', r:'„Åç„ÇÖ„ÅÜ„ÅØ„ÅÑ', v:'9 ly'}, {k:'ÂçÅÊùØ', r:'„Åò„ÇÖ„Å£„Å±„ÅÑ', v:'10 ly'}
                ]
            },
            "soku": { title: "Ë∂≥ (ƒê√¥i gi√†y, t·∫•t)", icon: "üëü", query: "‰ΩïË∂≥„Åß„Åô„ÅãÔºü", qRead: "„Å™„Çì„Åû„Åè„ÄÄ„Åß„Åô„ÅãÔºü", qVi: "M·∫•y ƒë√¥i?", 
                items: [
                    {k:'‰∏ÄË∂≥', r:'„ÅÑ„Å£„Åù„Åè', v:'1 ƒë√¥i'}, {k:'‰∫åË∂≥', r:'„Å´„Åù„Åè', v:'2 ƒë√¥i'}, {k:'‰∏âË∂≥', r:'„Åï„Çì„Åû„Åè', v:'3 ƒë√¥i'},
                    {k:'ÂõõË∂≥', r:'„Çà„Çì„Åù„Åè', v:'4 ƒë√¥i'}, {k:'‰∫îË∂≥', r:'„Åî„Åù„Åè', v:'5 ƒë√¥i'}, {k:'ÂÖ≠Ë∂≥', r:'„Çç„Å£„Åù„Åè', v:'6 ƒë√¥i'},
                    {k:'‰∏ÉË∂≥', r:'„Å™„Å™„Åù„Åè', v:'7 ƒë√¥i'}, {k:'ÂÖ´Ë∂≥', r:'„ÅØ„Å£„Åù„Åè', v:'8 ƒë√¥i'}, {k:'‰πùË∂≥', r:'„Åç„ÇÖ„ÅÜ„Åù„Åè', v:'9 ƒë√¥i'}, {k:'ÂçÅË∂≥', r:'„Åò„ÇÖ„Å£„Åù„Åè', v:'10 ƒë√¥i'}
                ]
            },
            "ken": { title: "Ëªí (CƒÉn nh√†)", icon: "üè†", query: "‰ΩïËªí„Åß„Åô„ÅãÔºü", qRead: "„Å™„Çì„Åí„Çì„ÄÄ„Åß„Åô„ÅãÔºü", qVi: "M·∫•y cƒÉn?", 
                items: [
                    {k:'‰∏ÄËªí', r:'„ÅÑ„Å£„Åë„Çì', v:'1 cƒÉn'}, {k:'‰∫åËªí', r:'„Å´„Åë„Çì', v:'2 cƒÉn'}, {k:'‰∏âËªí', r:'„Åï„Çì„Åí„Çì', v:'3 cƒÉn'},
                    {k:'ÂõõËªí', r:'„Çà„Çì„Åë„Çì', v:'4 cƒÉn'}, {k:'‰∫îËªí', r:'„Åî„Åë„Çì', v:'5 cƒÉn'}, {k:'ÂÖ≠Ëªí', r:'„Çç„Å£„Åë„Çì', v:'6 cƒÉn'},
                    {k:'‰∏ÉËªí', r:'„Å™„Å™„Åë„Çì', v:'7 cƒÉn'}, {k:'ÂÖ´Ëªí', r:'„ÅØ„Å£„Åë„Çì', v:'8 cƒÉn'}, {k:'‰πùËªí', r:'„Åç„ÇÖ„ÅÜ„Åë„Çì', v:'9 cƒÉn'}, {k:'ÂçÅËªí', r:'„Åò„ÇÖ„Å£„Åë„Çì', v:'10 cƒÉn'}
                ]
            },
            "chaku": { title: "ÁùÄ (B·ªô qu·∫ßn √°o)", icon: "üëî", query: "‰ΩïÁùÄ„Åß„Åô„ÅãÔºü", qRead: "„Å™„Çì„Å°„ÇÉ„Åè„ÄÄ„Åß„Åô„ÅãÔºü", qVi: "M·∫•y b·ªô?", 
                items: Array.from({length:10}, (_, i) => ({k:(i+1)+'ÁùÄ', r:['„ÅÑ„Å£„Å°„ÇÉ„Åè','„Å´„Å°„ÇÉ„Åè','„Åï„Çì„Å°„ÇÉ„Åè','„Çà„Çì„Å°„ÇÉ„Åè','„Åî„Å°„ÇÉ„Åè','„Çç„Åè„Å°„ÇÉ„Åè','„Å™„Å™„Å°„ÇÉ„Åè','„ÅØ„Å£„Å°„ÇÉ„Åè','„Åç„ÇÖ„ÅÜ„Å°„ÇÉ„Åè','„Åò„ÇÖ„Å£„Å°„ÇÉ„Åè'][i], v:(i+1)+' b·ªô'}))
            }
        };

        const tabsBox = document.getElementById('tabs');
        const grid = document.getElementById('cardGrid');
        const qArea = document.getElementById('questionArea');
        const synth = window.speechSynthesis;

        // Render Tabs
        Object.keys(counters).forEach((key, index) => {
            const btn = document.createElement('button');
            btn.className = 'tab-btn' + (index === 0 ? ' active' : '');
            btn.innerText = counters[key].title.split(' ')[0];
            btn.onclick = () => {
                document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                renderContent(key);
            };
            tabsBox.appendChild(btn);
        });

        function renderContent(key) {
            const data = counters[key];
            document.getElementById('categoryTitle').innerText = data.title;
            grid.innerHTML = '';
            
            data.items.forEach((item, i) => {
                const card = document.createElement('div');
                card.className = 'card';
                let icons = "";
                for(let j=0; j<=i; j++) icons += `<span class="icon-item">${data.icon}</span>`;
                
                card.innerHTML = `
                    <div class="main-text">${item.k}</div>
                    <div class="reading">${item.r}</div>
                    <div class="icon-box">${icons}</div>
                    <div class="viet">${item.v}</div>
                `;
                card.onclick = () => play(card, item.r, item.v);
                grid.appendChild(card);
            });

            qArea.innerHTML = `
                <p>ÁñëÂïèË©û</p>
                <div class="card" style="width:250px; margin:auto" onclick="play(this, '${data.qRead}', '${data.qVi}')">
                    <div class="main-text" style="font-size:1.6rem">${data.query}</div>
                    <div class="reading">${data.qRead}</div>
                    <div class="icon-box">‚ùì‚ùì‚ùì</div>
                    <div class="viet">${data.qVi}</div>
                </div>
            `;
        }

        function play(el, jp, vi) {
            synth.cancel();
            const isVi = document.getElementById('jpVi').checked;
            document.querySelectorAll('.card').forEach(c => c.classList.remove('active'));
            document.querySelectorAll('.viet').forEach(v => v.classList.remove('show'));
            el.classList.add('active');
            if(isVi) el.querySelector('.viet').classList.add('show');

            const speed = document.getElementById('speed').value;
            const uJp = new SpeechSynthesisUtterance(jp);
            uJp.voice = voices.find(v => v.name === document.getElementById('vJp').value);
            uJp.rate = speed;
            if(isVi) uJp.onend = () => {
                const uVi = new SpeechSynthesisUtterance(vi);
                uVi.voice = voices.find(v => v.name === document.getElementById('vVi').value);
                uVi.rate = speed;
                synth.speak(uVi);
            };
            synth.speak(uJp);
        }

        function updateUI() {
            document.documentElement.style.setProperty('--bg-color', document.getElementById('bgCol').value);
            document.documentElement.style.setProperty('--text-color', document.getElementById('textCol').value);
        }

        let voices = [];
        function getVoices() {
            voices = synth.getVoices();
            const sJp = document.getElementById('vJp'), sVi = document.getElementById('vVi');
            sJp.innerHTML = ''; sVi.innerHTML = '';
            voices.forEach(v => {
                const opt = document.createElement('option');
                opt.value = v.name; opt.innerText = v.name;
                if(v.lang.includes('ja')) sJp.appendChild(opt.cloneNode(true));
                if(v.lang.includes('vi')) sVi.appendChild(opt);
            });
        }
        speechSynthesis.onvoiceschanged = getVoices; getVoices();
        renderContent('tsu'); // Kh·ªüi t·∫°o m·∫∑c ƒë·ªãnh
    </script>
</body>
</html>