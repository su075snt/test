<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ãŸã®ã—ã„ã‚¢ãƒ«ãƒ•ã‚¡ãƒ™ãƒƒãƒˆã²ã‚‡ã†</title>
    <!-- ä¸¸æ–‡å­—ãƒ•ã‚©ãƒ³ãƒˆã®èª­ã¿è¾¼ã¿ -->
    <link href="https://fonts.googleapis.com" rel="stylesheet">
    <style>
        :root {
            --bg-color: #FFF9E5; /* ã‚„ã•ã—ã„ã‚¯ãƒªãƒ¼ãƒ è‰² */
            --card-color: #FFFFFF;
            --primary-blue: #54A0FF;
            --primary-pink: #FF6B6B;
        }

        body { 
            font-family: 'M PLUS Rounded 1c', sans-serif; 
            display: flex; margin: 0; background: var(--bg-color); height: 100vh; 
            overflow: hidden;
        }

        /* å·¦å´ï¼šã‚¢ãƒ«ãƒ•ã‚¡ãƒ™ãƒƒãƒˆä¸€è¦§ */
        .alphabet-grid { 
            flex: 1; display: grid; grid-template-columns: repeat(auto-fill, minmax(130px, 1fr)); 
            gap: 20px; padding: 30px; overflow-y: auto;
        }

        .letter-card {
            background: var(--card-color); border-radius: 30px; height: 140px;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            cursor: pointer; transition: all 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            box-shadow: 0 10px 0 #E0E0E0; border: 4px solid #F0F0F0;
            position: relative;
        }

        .letter-card:hover { transform: translateY(-5px); border-color: var(--primary-blue); }
        .letter-card:active { transform: translateY(6px); box-shadow: 0 4px 0 #E0E0E0; }

        .char-box { display: flex; align-items: baseline; }
        .char-main { font-size: 3.2rem; font-weight: 800; color: #333; }
        .char-small { font-size: 2rem; color: #666; margin-left: 5px; }
        
        /* èª­ã¿ã‹ãŸï¼ˆã‚«ã‚¿ã‚«ãƒŠï¼‰ */
        .reading { 
            font-size: 1.3rem; color: white; background: var(--primary-pink);
            padding: 4px 12px; border-radius: 15px; position: absolute;
            top: -15px; display: none; z-index: 10;
        }
        .letter-card.active .reading { display: block; animation: pop 0.3s; }

        @keyframes pop {
            0% { transform: scale(0.5); }
            100% { transform: scale(1); }
        }

        /* å³å´ï¼šã›ã£ã¦ã„ãƒ‘ãƒãƒ« */
        .controls {
            width: 280px; background: white; padding: 25px;
            display: flex; flex-direction: column; gap: 20px;
            border-left: 2px solid #FFE082;
        }

        .control-item { 
            background: #F0F7FF; padding: 15px; border-radius: 20px;
            display: flex; flex-direction: column; gap: 10px;
        }

        h2 { text-align: center; color: #FF9F43; margin: 0 0 10px 0; font-size: 1.5rem; }
        label { font-weight: bold; color: #576574; font-size: 0.9rem; }
        select, input { width: 100%; cursor: pointer; border-radius: 10px; border: 1px solid #DDD; padding: 8px; }

        /* ã‚«ãƒ©ãƒ•ãƒ«ãªæ–‡å­—è‰² */
        .letter-card:nth-child(4n+1) .char-main { color: #FF6B6B; }
        .letter-card:nth-child(4n+2) .char-main { color: #54A0FF; }
        .letter-card:nth-child(4n+3) .char-main { color: #1DD1A1; }
        .letter-card:nth-child(4n+4) .char-main { color: #FECA57; }
    </style>
</head>
<body>

    <div class="alphabet-grid" id="alphabet"></div>

    <div class="controls">
        <h2>ãŠã¹ã‚“ãã‚‡ã† âœï¸</h2>
        
        <div class="control-item">
            <label>ğŸ—£ï¸ ã“ãˆã®ç¨®é¡ (æ—¥æœ¬èª)</label>
            <select id="voice-select"></select>
        </div>

        <div class="control-item">
            <label>ğŸ¢ ã‚ˆã‚€é€Ÿã•: <span id="rate-value">1.0</span></label>
            <input type="range" id="rate-range" min="0.3" max="1.5" step="0.1" value="1.0">
        </div>

        <div style="margin-top: auto; padding: 15px; text-align: center; color: #54A0FF;">
            <p style="font-size: 0.9rem; font-weight: bold;">
                ã‚«ãƒ¼ãƒ‰ã‚’ ãŠã—ã¦ã­ï¼<br>ã›ã‚“ã›ã„ãŒ ã‚ˆã‚“ã§ãã‚Œã‚‹ã‚ˆï¼
            </p>
            <span style="font-size: 3rem;">ğŸ’</span>
        </div>
    </div>

    <script>
        const alphabetGrid = document.getElementById('alphabet');
        const voiceSelect = document.getElementById('voice-select');
        const rateRange = document.getElementById('rate-range');
        const rateValue = document.getElementById('rate-value');
        const synth = window.speechSynthesis;

        const alphabetData = [
            {l: 'A', s: 'a', r: 'ã‚¨ãƒ¼'}, {l: 'B', s: 'b', r: 'ãƒ“ãƒ¼'}, {l: 'C', s: 'c', r: 'ã‚·ãƒ¼'}, 
            {l: 'D', s: 'd', r: 'ãƒ‡ã‚£ãƒ¼'}, {l: 'E', s: 'e', r: 'ã‚¤ãƒ¼'}, {l: 'F', s: 'f', r: 'ã‚¨ãƒ•'}, 
            {l: 'G', s: 'g', r: 'ã‚¸ãƒ¼'}, {l: 'H', s: 'h', r: 'ã‚¨ã‚¤ãƒ'}, {l: 'I', s: 'i', r: 'ã‚¢ã‚¤'}, 
            {l: 'J', s: 'j', r: 'ã‚¸ã‚§ãƒ¼'}, {l: 'K', s: 'k', r: 'ã‚±ãƒ¼'}, {l: 'L', s: 'l', r: 'ã‚¨ãƒ«'},
            {l: 'M', s: 'm', r: 'ã‚¨ãƒ '}, {l: 'N', s: 'n', r: 'ã‚¨ãƒŒ'}, {l: 'O', s: 'o', r: 'ã‚ªãƒ¼'}, 
            {l: 'P', s: 'p', r: 'ãƒ”ãƒ¼'}, {l: 'Q', s: 'q', r: 'ã‚­ãƒ¥ãƒ¼'}, {l: 'R', s: 'r', r: 'ã‚¢ãƒ¼ãƒ«'}, 
            {l: 'S', s: 's', r: 'ã‚¨ã‚¹'}, {l: 'T', s: 't', r: 'ãƒ†ã‚£ãƒ¼'}, {l: 'U', s: 'u', r: 'ãƒ¦ãƒ¼'}, 
            {l: 'V', s: 'v', r: 'ãƒ–ã‚¤'}, {l: 'W', s: 'w', r: 'ãƒ€ãƒ–ãƒªãƒ¥ãƒ¼'}, {l: 'X', s: 'x', r: 'ã‚¨ãƒƒã‚¯ã‚¹'},
            {l: 'Y', s: 'y', r: 'ãƒ¯ã‚¤'}, {l: 'Z', s: 'z', r: 'ã‚¼ãƒƒãƒˆ'}
        ];

        alphabetData.forEach(item => {
            const card = document.createElement('div');
            card.className = 'letter-card';
            card.innerHTML = `
                <span class="reading">${item.r}</span>
                <div class="char-box">
                    <span class="char-main">${item.l}</span>
                    <span class="char-small">${item.s}</span>
                </div>
            `;
            card.onclick = () => {
                card.classList.add('active');
                setTimeout(() => card.classList.remove('active'), 800);
                speak(item.l);
            };
            alphabetGrid.appendChild(card);
        });

        function loadVoices() {
            // æ—¥æœ¬èªã®éŸ³å£°ã ã‘ã‚’ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°
            const voices = synth.getVoices().filter(v => v.lang.includes('ja'));
            voiceSelect.innerHTML = '';
            
            if (voices.length === 0) {
                const opt = document.createElement('option');
                opt.textContent = "éŸ³å£°ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“";
                voiceSelect.appendChild(opt);
            } else {
                voices.forEach(voice => {
                    const option = document.createElement('option');
                    option.textContent = voice.name;
                    option.value = voice.voiceURI;
                    voiceSelect.appendChild(option);
                });
            }
        }

        speechSynthesis.onvoiceschanged = loadVoices;
        loadVoices();

        function speak(text) {
            synth.cancel();
            const utter = new SpeechSynthesisUtterance(text);
            const voices = synth.getVoices();
            utter.voice = voices.find(v => v.voiceURI === voiceSelect.value);
            utter.rate = rateRange.value;
            utter.pitch = 1.2; // å°‘ã—é«˜ã‚ã®å£°ã§èãå–ã‚Šã‚„ã™ã
            synth.speak(utter);
        }

        rateRange.oninput = () => { rateValue.textContent = rateRange.value; };
    </script>
</body>
</html>