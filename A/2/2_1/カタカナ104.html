<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Katakana Mastery</title>
    <link href="https://cdnjs.cloudflare.com" rel="stylesheet">
    <style>
        :root { --bg: #0b1120; --card: #1e293b; --accent: #f59e0b; --text: #f1f5f9; --char-c: #f59e0b; }
        body { margin: 0; font-family: 'Hiragino Sans', sans-serif; background: var(--bg); color: var(--text); -webkit-tap-highlight-color: transparent; }
        
        .top-bar { display: flex; align-items: center; padding: 10px 15px; background: #0f172a; border-bottom: 1px solid #334155; position: sticky; top: 0; z-index: 1000; height: 50px; }
        .tabs { display: flex; gap: 8px; position: absolute; left: 50%; transform: translateX(-50%); }
        .tab-btn { background: none; border: none; color: #94a3b8; padding: 8px 12px; cursor: pointer; font-weight: bold; font-size: 0.9rem; border-radius: 6px; transition: 0.2s; }
        .tab-btn.active { color: var(--accent); background: rgba(245, 158, 11, 0.1); }
        .menu-toggle { background: var(--accent); border: none; color: #000; width: 38px; height: 38px; border-radius: 8px; cursor: pointer; margin-left: auto; }

        .grid-wrapper { padding: 20px; display: flex; justify-content: center; }
        .grid { display: grid; width: 100%; max-width: 650px; gap: 10px; }
        .grid-5 { grid-template-columns: repeat(5, 1fr); }
        .grid-3 { grid-template-columns: repeat(3, 1fr); }

        .card { background: var(--card); border-radius: 12px; aspect-ratio: 1/1; display: flex; flex-direction: column; align-items: center; justify-content: center; cursor: pointer; border: 1px solid rgba(255,255,255,0.05); transition: transform 0.1s; }
        .card:active { transform: scale(0.95); background: #2d3a4f; }
        
        .char-txt { font-size: 2.5rem; color: var(--char-c); font-weight: bold; line-height: 1; }
        .sub-info { font-size: 0.8rem; color: #94a3b8; margin-top: 6px; text-align: center; }
        .icon { font-size: 1.1rem; margin-bottom: 2px; display: block; }

        #side-menu { position: fixed; top: 0; right: -300px; width: 280px; height: 100%; background: #1e293b; transition: 0.3s cubic-bezier(0.4, 0, 0.2, 1); z-index: 2000; padding: 25px; box-sizing: border-box; box-shadow: -5px 0 20px rgba(0,0,0,0.5); }
        #side-menu.open { right: 0; }
        .opt-group { margin-bottom: 15px; }
        label { display: block; font-size: 0.8rem; margin-bottom: 5px; color: #cbd5e1; }
        select, input[type="range"] { width: 100%; padding: 8px; border-radius: 6px; background: #0f172a; color: #fff; border: 1px solid #475569; }
        .hidden { display: none !important; }
        
        @media (max-width: 400px) { .char-txt { font-size: 1.8rem; } .sub-info { font-size: 0.7rem; } }
    </style>
</head>
<body>

<div class="top-bar">
    <div class="tabs">
        <button class="tab-btn active" onclick="changeTab('basic', this)">æ¸…éŸ³ï¼ˆã›ã„ãŠã‚“ï¼‰</button>
        <button class="tab-btn" onclick="changeTab('tenten', this)">æ¿éŸ³ï¼ˆã ããŠã‚“ï¼‰</button>
        <button class="tab-btn" onclick="changeTab('combo', this)">æ‹—éŸ³ï¼ˆã‚ˆã†ãŠã‚“ï¼‰</button>
    </div>
    <button class="menu-toggle" onclick="toggleMenu()"><i class="fas fa-cog"></i></button>
</div>

<div id="side-menu">
    <h3 style="margin-top:0; font-size: 1.2rem;">Katakana è¨­å®š</h3>
    <div class="opt-group"><label>æ–‡å­—ã®è‰²</label><input type="color" id="colorChar" value="#f59e0b" onchange="updateTheme()"></div>
    <div class="opt-group"><label>èƒŒæ™¯è‰²</label><input type="color" id="colorBg" value="#0b1120" onchange="updateTheme()"></div>
    <div class="opt-group"><label>èª­ã¿ä¸Šã’é€Ÿåº¦</label><input type="range" id="speed" min="0.5" max="1.5" step="0.1" value="1"></div>
    <div class="opt-group"><label>æ—¥æœ¬èªéŸ³å£°</label><select id="vJa"></select></div>
    <div class="opt-group"><label>ãƒ™ãƒˆãƒŠãƒ èªéŸ³å£°</label><select id="vVi"></select></div>
    <div class="opt-group"><label>å†ç”Ÿãƒ¢ãƒ¼ãƒ‰</label>
        <select id="mode">
            <option value="ja">æ—¥æœ¬èªã®ã¿</option>
            <option value="javi">æ—¥è¶Šä¸¡æ–¹</option>
        </select>
    </div>
    <div class="opt-group">
        <label style="display:flex; align-items:center; gap:8px;">
            <input type="checkbox" id="showInfo" checked onchange="renderGrid()"> èªå½™ã‚’è¡¨ç¤º
        </label>
    </div>
    <button onclick="toggleMenu()" style="width:100%; padding:10px; background:var(--accent); border:none; border-radius:6px; cursor:pointer; font-weight:bold;">é–‰ã˜ã‚‹</button>
</div>

<div class="grid-wrapper">
    <div id="grid" class="grid grid-5"></div>
</div>

<script>
    const chars = {
        basic: [
            {h:'ã‚¢',i:'ğŸ¦',v:'ã‚¢ã‚¤ã‚¹',m:'Kem'},{h:'ã‚¤',i:'ğŸ ',v:'ã‚¤ã‚¨',m:'NhÃ '},{h:'ã‚¦',i:'âŒš',v:'ã‚¦ã‚ªãƒƒãƒ',m:'Äá»“ng há»“'},{h:'ã‚¨',i:'ğŸ–¼ï¸',v:'ã‚¨ã‚¢ã‚³ãƒ³',m:'Äiá»u hÃ²a'},{h:'ã‚ª',i:'ğŸŠ',v:'ã‚ªãƒ¬ãƒ³ã‚¸',m:'Cam'},
            {h:'ã‚«',i:'ğŸ“¸',v:'ã‚«ãƒ¡ãƒ©',m:'MÃ¡y áº£nh'},{h:'ã‚­',i:'ğŸ’‹',v:'ã‚­ã‚¹',m:'HÃ´n'},{h:'ã‚¯',i:'ğŸ„',v:'ã‚¯ãƒªã‚¹ãƒã‚¹',m:'GiÃ¡ng sinh'},{h:'ã‚±',i:'ğŸ°',v:'ã‚±ãƒ¼ã‚­',m:'BÃ¡nh ngá»t'},{h:'ã‚³',i:'â˜•',v:'ã‚³ãƒ¼ãƒ’ãƒ¼',m:'CÃ  phÃª'},
            {h:'ã‚µ',i:'ğŸ¥ª',v:'ã‚µãƒ³ãƒ‰ã‚¤ãƒƒãƒ',m:'BÃ¡nh mÃ¬ káº¹p'},{h:'ã‚·',i:'ğŸ‘•',v:'ã‚·ãƒ£ãƒ„',m:'Ão sÆ¡ mi'},{h:'ã‚¹',i:'ğŸ¿',v:'ã‚¹ã‚­ãƒ¼',m:'TrÆ°á»£t tuyáº¿t'},{h:'ã‚»',i:'ğŸ®',v:'ã‚»ãƒ³ã‚¿ãƒ¼',m:'Trung tÃ¢m'},{h:'ã‚½',i:'ğŸŒ­',v:'ã‚½ãƒ¼ã‚»ãƒ¼ã‚¸',m:'XÃºc xÃ­ch'},
            {h:'ã‚¿',i:'ğŸš•',v:'ã‚¿ã‚¯ã‚·ãƒ¼',m:'Taxi'},{h:'ãƒ',i:'ğŸ§€',v:'ãƒãƒ¼ã‚º',m:'PhÃ´ mai'},{h:'ãƒ„',i:'ğŸ¢',v:'ãƒ„ã‚¢ãƒ¼',m:'Tour'},{h:'ãƒ†',i:'ğŸ“º',v:'ãƒ†ãƒ¬ãƒ“',m:'Tivi'},{h:'ãƒˆ',i:'ğŸ…',v:'ãƒˆãƒãƒˆ',m:'CÃ  chua'},
            {h:'ãƒŠ',i:'ğŸ”ª',v:'ãƒŠã‚¤ãƒ•',m:'Dao'},{h:'ãƒ‹',i:'ğŸ“°',v:'ãƒ‹ãƒ¥ãƒ¼ã‚¹',m:'Tin tá»©c'},{h:'ãƒŒ',i:'ğŸ§¸',v:'ãƒŒã‚¤ã‚°ãƒ«ãƒŸ',m:'ThÃº bÃ´ng'},{h:'ãƒ',i:'ğŸ‘”',v:'ãƒã‚¯ã‚¿ã‚¤',m:'CÃ  váº¡t'},{h:'ãƒ',i:'ğŸ““',v:'ãƒãƒ¼ãƒˆ',m:'Vá»Ÿ'},
            {h:'ãƒ',i:'ğŸ”',v:'ãƒãƒ³ãƒãƒ¼ã‚¬ãƒ¼',m:'Hamburger'},{h:'ãƒ’',i:'ğŸ¹',v:'ãƒ”ã‚¢ãƒ',m:'Piano'},{h:'ãƒ•',i:'ğŸ´',v:'ãƒ•ã‚©ãƒ¼ã‚¯',m:'NÄ©a'},{h:'ãƒ˜',i:'ğŸš',v:'ãƒ˜ãƒªã‚³ãƒ—ã‚¿ãƒ¼',m:'Trá»±c thÄƒng'},{h:'ãƒ›',i:'ğŸ¨',v:'ãƒ›ãƒ†ãƒ«',m:'KhÃ¡ch sáº¡n'},
            {h:'ãƒ',i:'ğŸ˜·',v:'ãƒã‚¹ã‚¯',m:'Kháº©u trang'},{h:'ãƒŸ',i:'ğŸ¼',v:'ãƒŸãƒ«ã‚¯',m:'Sá»¯a'},{h:'ãƒ ',i:'ğŸ¥',v:'ãƒ ãƒ¼ãƒ“ãƒ¼',m:'Phim'},{h:'ãƒ¡',i:'ğŸ‘“',v:'ãƒ¡ã‚¬ãƒ',m:'máº¯t kÃ­nh'},{h:'ãƒ¢',i:'ğŸš‹',v:'ãƒ¢ãƒãƒ¬ãƒ¼ãƒ«',m:'TÃ u Ä‘iá»‡n treo'},
            {h:'ãƒ¤',i:'ğŸŒ´',v:'ãƒ¤ã‚·',m:'CÃ¢y cá»'},{h:'',i:'',v:'',m:''},{h:'ãƒ¦',i:'ğŸ‘¨',v:'ãƒ¦ãƒ¼ã‚¶ãƒ¼',m:'ngÆ°á»i dÃ¹ng'},{h:'',i:'',v:'',m:''},{h:'ãƒ¨',i:'â›µ',v:'ãƒ¨ãƒƒãƒˆ',m:'Thuyá»n buá»“m'},
            {h:'ãƒ©',i:'ğŸ“»',v:'ãƒ©ã‚¸ã‚ª',m:'Radio'},{h:'ãƒª',i:'ğŸ‘¦',v:'ãƒªãƒ¼ãƒ€ãƒ¼',m:'NgÆ°á»i láº£nh Ä‘áº¡o'},{h:'ãƒ«',i:'ğŸ“',v:'ãƒ«ãƒ¼ãƒ«',m:'Luáº­t lá»‡'},{h:'ãƒ¬',i:'ğŸ‹',v:'ãƒ¬ãƒ¢ãƒ³',m:'Chanh'},{h:'ãƒ­',i:'ğŸ¤–',v:'ãƒ­ãƒœãƒƒãƒˆ',m:'Robot'},
            {h:'ãƒ¯',i:'ğŸ·',v:'ãƒ¯ã‚¤ãƒ³',m:'RÆ°á»£u vang'},{h:'',i:'',v:'',m:''},{h:'ãƒ²',i:'ğŸ“',v:'ãƒ²',m:'Trá»£ tá»«'},{h:'',i:'',v:'',m:''},{h:'ãƒ³',i:'ğŸ',v:'ãƒ‘ãƒ³',m:'BÃ¡nh mÃ¬'}
        ],
        tenten: [
            {h:'ã‚¬',i:'â›½',v:'ã‚¬ã‚¹',m:'Gas'},{h:'ã‚®',i:'ğŸ¸',v:'ã‚®ã‚¿ãƒ¼',m:'Guitar'},{h:'ã‚°',i:'ğŸ¥ƒ',v:'ã‚°ãƒ©ã‚¹',m:'CÃ¡i cá»‘c'},{h:'ã’',i:'ğŸ®',v:'ã‚²ãƒ¼ãƒ ',m:'TrÃ² chÆ¡i'},{h:'ã‚´',i:'ğŸ¦',v:'ã‚´ãƒªãƒ©',m:'khá»‰ Ä‘á»™tã€€Goã€€riã€€la'},
            {h:'ã‚¶',i:'ğŸ•',v:'ãƒ”ã‚¶',m:'bÃ¡nh piza'},{h:'ã‚¸',i:'ğŸ‘–',v:'ã‚¸ãƒ¼ãƒ³ã‚º',m:'Quáº§n jean'},{h:'ã‚º',i:'ğŸ©³',v:'ã¯ã‚“ã‚ºãƒœãƒ³',m:'Quáº§n ngáº¯n'},{h:'ã‚¼',i:'ğŸ®',v:'ã‚¼ãƒªãƒ¼',m:'Tháº¡ch'},{h:'ã‚¾',i:'ğŸ§Ÿ ',v:'ã‚¾ãƒ³ãƒ“',m:'XÃ¡c sá»‘ng '},
            {h:'ãƒ€',i:'ğŸ’',v:'ãƒ€ã‚¤ãƒ¤',m:'Kim cÆ°Æ¡ng'},{h:'ãƒ‚',i:'ğŸŒ•',v:'ãƒãƒ‚ãƒŸ',m:'tÃªn MÃ³n bÃ¡nh xÃ¨o Triá»u TiÃªn'},{h:'ãƒ…',i:'ğŸ‘ƒ',v:'ãƒãƒŠãƒ…ãƒãƒª',m:'ngháº¹t mÅ©i'},{h:'ãƒ‡',i:'ğŸ“…',v:'ãƒ‡ãƒ¼ãƒˆ',m:'Háº¹n hÃ²'},{h:'ãƒ‰',i:'ğŸšª',v:'ãƒ‰ã‚¢',m:'Cá»­a'},
            {h:'ãƒ',i:'ğŸŒ',v:'ãƒãƒŠ',m:'Chuá»‘i'},{h:'ãƒ“',i:'ğŸº',v:'ãƒ“ãƒ¼ãƒ«',m:'Bia'},{h:'ãƒ–',i:'ğŸ›€',v:'ãƒã‚¹',m:'Bá»“n táº¯m'},{h:'ãƒ™',i:'ğŸ›ï¸',v:'ãƒ™ãƒƒãƒ‰',m:'GiÆ°á»ng'},{h:'ãƒœ',i:'âš½',v:'ãƒœãƒ¼ãƒ«',m:'BÃ³ng'},
            {h:'ãƒ‘',i:'ğŸ¥',v:'ãƒ‘ãƒ³',m:'BÃ¡nh mÃ¬'},{h:'ãƒ”',i:'ğŸ•',v:'ãƒ”ã‚¶',m:'Pizza'},{h:'ãƒ—',i:'ğŸ',v:'ãƒ—ãƒ¬ã‚¼ãƒ³ãƒˆ',m:'QuÃ '},{h:'ãƒš',i:'ğŸ§',v:'ãƒšãƒ³ã‚®ãƒ³',m:'Chim cÃ¡nh cá»¥t'},{h:'ãƒ',i:'ğŸŸ',v:'ãƒãƒ†ãƒˆ',m:'Khoai tÃ¢y'}
        ],
        combo: [
            {h:'ã‚­ãƒ£',i:'â›º',v:'ã‚­ãƒ£ãƒ³ãƒ—',m:'Cáº¯m tráº¡i'},{h:'ã‚­ãƒ¥',i:'ğŸ¥’',v:'ã‚­ãƒ¥ãƒ¼ãƒª',m:'DÆ°a'},{h:'ã‚­ãƒ§',i:'ğŸ“',v:'ã‚­ãƒ§ã‚¦ãƒª',m:'Khoáº£ng cÃ¡ch'},
            {h:'ã‚·ãƒ£',i:'ğŸš¿',v:'ã‚·ãƒ£ãƒ¯ãƒ¼',m:'VÃ²i sen'},{h:'ã‚·ãƒ¥',i:'ğŸ‘Ÿ',v:'ã‚·ãƒ¥ãƒ¼ã‚º',m:'GiÃ y'},{h:'ã‚·ãƒ§',i:'ğŸ›ï¸',v:'ã‚·ãƒ§ãƒƒãƒ—',m:'Cá»­a hÃ ng'},
            {h:'ãƒãƒ£',i:'ğŸ“‰',v:'ãƒãƒ£ãƒ¼ãƒˆ',m:'Biá»ƒu Ä‘á»“'},{h:'ãƒãƒ¥',i:'ãƒãƒ¥ãƒ¼ãƒ–',v:'ğŸ§ª',m:'á»ng'},{h:'ãƒãƒ§',i:'ğŸ«',v:'ãƒãƒ§ã‚³',m:'Socola'},
            {h:'ãƒ‹ãƒ£',i:'ğŸˆ',v:'ãƒ‹ãƒ£ãƒ¼',m:'MÃ¨o'},{h:'ãƒ‹ãƒ¥',i:'ğŸ“°',v:'ãƒ‹ãƒ¥ãƒ¼ã‚¹',m:'Tin tá»©c'},{h:'ãƒ‹ãƒ§',i:'ğŸ’¦',v:'ãƒ‹ãƒ§ã‚¦',m:'NÆ°á»›c tiá»ƒu'},
            {h:'ãƒ’ãƒ£',i:'ğŸ’¯',v:'ãƒ’ãƒ£ã‚¯',m:'má»™t trÄƒm'},{h:'ãƒ’ãƒ¥',i:'ğŸ‘¦',v:'ãƒ’ãƒ¥ãƒ¼ãƒãƒ³',m:'con ngÆ°á»i'},{h:'ãƒ’ãƒ§',i:'â›ˆ',v:'ãƒ’ãƒ§ã‚¦',m:'mÆ°a Ä‘Ã¡'},
            {h:'ãƒŸãƒ£',i:'ğŸ—º',v:'ãƒŸãƒ£ãƒ³ãƒãƒ¼',m:'nÆ°á»›c myanma'},{h:'ãƒŸãƒ¥',i:'ğŸµ',v:'ãƒŸãƒ¥ãƒ¼ã‚¸ãƒƒã‚¯',m:'Nháº¡c'},{h:'ãƒŸãƒ§',i:'ğŸ¥¬',v:'ãƒŸãƒ§ã‚¦ã‚¬',m:'rau mi o ga'},
            {h:'ãƒªãƒ£',i:'âœ„',v:'ãƒªãƒ£ã‚¯',m:'lÆ°á»£c bá»,rÃºt gá»n'},{h:'ãƒªãƒ¥',i:'ğŸ’',v:'ãƒªãƒ¥ãƒƒã‚¯',m:'Ba lÃ´'},{h:'ãƒªãƒ§',i:'ğŸ«¡',v:'ãƒªãƒ§ã‚¦ã‚«ã‚¤',m:'RÃµ rá»“iã€€ÄÃ£ hiá»ƒu!'},
            {h:'ã‚®ãƒ£',i:'ğŸƒ',v:'ã‚®ãƒ£ãƒ³ãƒ–ãƒ«',m:'Cá» báº¡c'},{h:'ã‚®ãƒ¥',i:'ğŸ„',v:'ã‚®ãƒ¥ã‚¦ãƒ‹ãƒ¥ã‚¦',m:'Sá»¯a'},{h:'ã‚®ãƒ§',i:'ğŸ¥Ÿ',v:'ã‚®ãƒ§ãƒ¼ã‚¶',m:'sá»§i cáº£o'},
            {h:'ã‚¸ãƒ£',i:'ğŸ“',v:'ã‚¸ãƒ£ãƒ ',m:'Má»©t'},{h:'ã‚¸ãƒ¥',i:'ğŸ¥¤',v:'ã‚¸ãƒ¥ãƒ¼ã‚¹',m:'NÆ°á»›c Ã©p'},{h:'ã‚¸ãƒ§',i:'ğŸƒ',v:'ã‚¸ãƒ§ã‚®ãƒ³ã‚°',m:'Cháº¡y bá»™'},
            {h:'ãƒ“ãƒ£',i:'ï¼“ï¼ï¼',v:'ã‚µãƒ³ãƒ“ãƒ£ã‚¯',m:'ba trÄƒm'},{h:'ãƒ“ãƒ¥',i:'ğŸ´',v:'ãƒ“ãƒ¥ãƒƒãƒ•ã‚§',m:'Äƒn tá»± chá»n'},{h:'ãƒ“ãƒ§',i:'âŒ›',v:'ãƒ“ãƒ§ã‚¦',m:'Ä‘Æ¡n vá»‹ giÃ¢y  '},
            {h:'ãƒ”ãƒ£',i:'800',v:'ãƒãƒƒãƒ”ãƒ£ã‚¯',m:'tÃ¡m trÄƒm'},{h:'ãƒ”ãƒ¥',i:'ğŸ’',v:'ãƒ”ãƒ¥ã‚¢',m:'thuáº§n khiáº¿t'},{h:'ãƒ”ãƒ§',i:'ğŸ¸',v:'ãƒ”ãƒ§ãƒ³',m:'Tiáº¿ng thá» vÃ  áº¿ch nháº£y'}
        ]
    };

    let currentTab = 'basic';
    const synth = window.speechSynthesis;

    function renderGrid() {
        const grid = document.getElementById('grid');
        grid.className = `grid ${currentTab === 'combo' ? 'grid-3' : 'grid-5'}`;
        grid.innerHTML = '';
        const show = document.getElementById('showInfo').checked;

        chars[currentTab].forEach(item => {
            const card = document.createElement('div');
            card.className = 'card';
            if (item.h === '') {
                card.style.visibility = 'hidden';
            } else {
                card.onclick = () => speak(item);
                card.innerHTML = `
                    <span class="char-txt">${item.h}</span>
                    <div class="sub-info ${show ? '' : 'hidden'}">
                        <span class="icon">${item.i}</span>
                        <div>${item.v}</div>
                        <div style="color:var(--accent); font-weight:bold;">${item.m}</div>
                    </div>`;
            }
            grid.appendChild(card);
        });
    }

    function changeTab(tab, btn) {
        currentTab = tab;
        document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        renderGrid();
    }

    function toggleMenu() { document.getElementById('side-menu').classList.toggle('open'); }

    function updateTheme() {
        document.documentElement.style.setProperty('--char-c', document.getElementById('colorChar').value);
        document.documentElement.style.setProperty('--bg', document.getElementById('colorBg').value);
    }

    function speak(item) {
        synth.cancel();
        const rate = parseFloat(document.getElementById('speed').value);
        const mode = document.getElementById('mode').value;
        const voices = synth.getVoices();

        const uChar = new SpeechSynthesisUtterance(item.h);
        uChar.voice = voices.find(v => v.name === document.getElementById('vJa').value);
        uChar.lang = 'ja-JP'; uChar.rate = rate;

        const uVocab = new SpeechSynthesisUtterance(item.v);
        uVocab.voice = uChar.voice; uVocab.lang = 'ja-JP'; uVocab.rate = rate;

        const uViet = new SpeechSynthesisUtterance(item.m);
        uViet.voice = voices.find(v => v.name === document.getElementById('vVi').value);
        uViet.lang = 'vi-VN'; uViet.rate = rate;

        synth.speak(uChar);
        setTimeout(() => {
            if(item.v && item.v !== '-') synth.speak(uVocab);
            if (mode === 'javi' && item.m && item.m !== '-') synth.speak(uViet);
        }, 300);
    }

    function initVoices() {
        const voices = synth.getVoices();
        const sJa = document.getElementById('vJa'), sVi = document.getElementById('vVi');
        sJa.innerHTML = ''; sVi.innerHTML = '';
        voices.forEach(v => {
            if (v.lang.includes('ja')) sJa.add(new Option(v.name, v.name));
            if (v.lang.includes('vi')) sVi.add(new Option(v.name, v.name));
        });
    }

    window.onload = () => {
        renderGrid();
        initVoices();
        if (synth.onvoiceschanged !== undefined) synth.onvoiceschanged = initVoices;
    };
</script>
</body>
</html>